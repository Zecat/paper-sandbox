<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../shadycss/apply-shim.html">
<link rel="import" href="../app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../paper-styles/shadow.html">
<link rel="import" href="../paper-fab/paper-fab.html">
<link rel="import" href="../iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" href="paper-sandbox.html">

<dom-module id="paper-sandboxer">
  <template>
    <style>
      :host {
        display: block;
        @apply --layout-vertical;
        --app-drawer-width: 800px;
      }
      app-drawer {
        border-right: 1px solid var(--paper-grey-200);
      }
      paper-sandbox {
        overflow: auto;
        height: 100%;
      }
      paper-fab   {
        position: fixed;
        bottom: 24px;
        right: 24px;
      }
      app-drawer-layout:not([narrow]) [drawer-toggle] {
        display: none;
      }
    </style>

    <iron-iconset-svg size="24" name="sandbox">
      <svg><defs>
      <g id="test"><path d="M7,2V4H8V18A4,4 0 0,0 12,22A4,4 0 0,0 16,18V4H17V2H7M11,16C10.4,16 10,15.6 10,15C10,14.4 10.4,14 11,14C11.6,14 12,14.4 12,15C12,15.6 11.6,16 11,16M13,12C12.4,12 12,11.6 12,11C12,10.4 12.4,10 13,10C13.6,10 14,10.4 14,11C14,11.6 13.6,12 13,12M14,7H10V4H14V7Z"></path></g>
      </defs></svg>
    </iron-iconset-svg>

    <app-drawer-layout responsive-width="1100px">
      <app-drawer slot="drawer" swipe-open>
        <paper-sandbox id="sandbox"></paper-sandbox>
      </app-drawer>
      <div>
        <slot id="slot" on-slotchange="_slotChangeHandler"></slot>
        <paper-fab drawer-toggle icon="sandbox:test"></paper-fab>
      </div>
    </app-drawer-layout>

  </template>


  <script>
    /**
     * 
     * 
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class PaperSandboxer extends Polymer.Element {

      static get is() { return 'paper-sandboxer'; }

      static get properties() {
        return {
          /**
           * The tag name of the element you want to produce a sandbox for.
           * @type {String}
           */
          tag: String
        };
      }

      constructor() {
        super();
      }

      _slotChangeHandler() {
        this.$.sandbox.analyzedElement = this.querySelector(this.tag);
      }

    }

    customElements.define(PaperSandboxer.is, PaperSandboxer);
    

  </script>
</dom-module>