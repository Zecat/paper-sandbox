<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../shadycss/apply-shim.html">
<link rel="import" href="../app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../paper-styles/shadow.html">
<link rel="import" href="../paper-fab/paper-fab.html">
<link rel="import" href="paper-sandbox-icons.html">
<link rel="import" href="paper-sandbox.html">

<dom-module id="paper-sandboxer">
  <template>
    <style>
      :host {
        display: block;
        @apply --layout-vertical;
        --app-drawer-width: 800px;
        --app-drawer-content-container: {
          max-width: 100%;
        }
      }
      app-drawer {
        border-right: 1px solid var(--paper-grey-200);
      }
      paper-sandbox {
        overflow: auto;
        height: 100%;
      }
      paper-fab   {
        position: fixed;
        bottom: 24px;
        right: 24px;
        @apply --shadow-transition;
      }
      app-drawer-layout:not([narrow]) [drawer-toggle] {
        display: none;
      }
    </style>

    <app-drawer-layout responsive-width="1100px">
      <app-drawer slot="drawer" swipe-open>
        <paper-sandbox id="sandbox"></paper-sandbox>
      </app-drawer>
      <div>
        <slot id="slot" on-slotchange="_slotChangeHandler"></slot>
        <paper-fab drawer-toggle icon="sandbox:test"></paper-fab>
      </div>
    </app-drawer-layout>

  </template>


  <script>
    /**
     * 
     * 
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class PaperSandboxer extends Polymer.Element {

      static get is() { return 'paper-sandboxer'; }

      static get properties() {
        return {
          /**
           * The tag name of the element you want to produce a sandbox for.
           * @type {String}
           */
          tag: String
        };
      }

      constructor() {
        super();
      }

      _slotChangeHandler() {
        this.$.sandbox.analyzedElement = this.querySelector(this.tag);
      }

    }

    customElements.define(PaperSandboxer.is, PaperSandboxer);
    

  </script>
</dom-module>